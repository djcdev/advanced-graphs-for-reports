{
	"name": "AdvancedGraphsInteractive",
	"namespace": "VIHA\\AdvancedGraphsInteractive",
	"description": "A module for create advanced graphs from a REDCap report using a R script",
	"versions": [{
		"1.0": "Initial Development Version on EMs"
	}],
	"framework-version": 11,
	"compatibility": {
		"redcap-version-min": "8.0.3"
	},
	"authors": [{
		"name": "Victor Espinosa",
		"email": "Victor.Espinosa@viha.ca",
		"institution": "VIHA"
	}, {
		"name": "Alvaro Ciganda",
		"email": "aciganda@iecs.org.ar",
		"institution": "IECS"
	}],
	"no-csrf-pages": [
		"view_dash_public"
	],
	"enable-no-auth-logging": true,
	"auth-ajax-actions": [
		"newDashboard",
		"saveDashboard",
		"deleteDashboard"
	 ],
	 "no-auth-ajax-actions": [
		"getDashboards",
		"getReportName"
	 ],
	"links": {
		"project": [
		{
			"name": "New Advanced Graphs Dashboard",
			"icon": "gear",
			"url": "edit_dash.php",
			"id": "edit_dash"
		},
		{
			"name": "Advanced Graphs Dashboards",
			"icon": "list_red_messaging",
			"url": "advanced_graphs.php",
			"id": "advanced_graphs"
		}
		]
	},
	"no-auth-pages": [
		"view_dash_public.php", 
		"advanced_graphs_ajax_public"
	],
	"permissions": [
	"redcap_module_save_configuration",
	"redcap_every_page_before_render",
	"redcap_every_page_top",
	"redcap_module_system_enable"
	],
   "system-settings": [
		{
			"key": "r-settings",
			"name": "R Settings",
			"required": true,
			"type": "sub_settings",
			"repeatable":false,
			"sub_settings":[
				{
					 "key": "r-path",
					 "name": "RScript path (include Rscript.exe or the name you have)",
					 "required": true,
					 "type": "text",
					 "repeatable": false
				},
				{
					 "key": "pandoc-path",
					 "name": "Pandoc path (folder name without last slash)",
					 "required": true,
					 "type": "text",
					 "repeatable": false
				},
				{
					 "key": "r-libraries-path",
					 "name": "Path to R libraries (folder name without last slash)",
					 "required": true,
					 "type": "text",
					 "repeatable": false
				}
			]
		},
		{
			"key": "graph_types",
			"name": "Graph Types: The name of the folder containing the information needed to create a graph form.",
			"required": true,
			"type": "text",
			"repeatable": true
		},
		{
			 "key": "projects-api-tokens-note",
			 "name": "Tokens to be used by R to get report data. Only projects included in this list can use this module.",
			 "required": false,
			 "type": "descriptive",
			 "repeatable": false
		},
		{
			"key": "projects-api-tokens",
			"name": "Projects API tokens",
			"required": true,
			"type": "sub_settings",
			"repeatable":true,
			"sub_settings":[
				{
					 "key": "project-pid",
					 "name": "Project",
					 "required": true,
					 "type": "project-id",
					 "repeatable": false
				},
				{
					 "key": "project-token",
					 "name": "Token",
					 "required": true,
					 "type": "text",
					 "repeatable": false
				}
			]
		}
	 ],
   "project-settings": []
}